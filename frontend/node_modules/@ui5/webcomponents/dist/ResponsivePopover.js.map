{"version":3,"file":"ResponsivePopover.js","sourceRoot":"","sources":["../src/ResponsivePopover.ts"],"names":[],"mappings":";;;;;;;AAAA,OAAO,aAAa,MAAM,0DAA0D,CAAC;AACrF,OAAO,QAAQ,MAAM,qDAAqD,CAAC;AAC3E,OAAO,EAAE,OAAO,EAAE,MAAM,wCAAwC,CAAC;AAEjE,OAAO,IAAI,MAAM,iDAAiD,CAAC;AAEnE,OAAO,EAAE,sCAAsC,EAAE,MAAM,mCAAmC,CAAC;AAE3F,OAAO,yBAAyB,MAAM,gCAAgC,CAAC;AACvE,OAAO,OAAO,MAAM,cAAc,CAAC;AAGnC,SAAS;AACT,OAAO,oBAAoB,MAAM,6CAA6C,CAAC;AAG/E;;;;;;;;;;;;;;;;;;;;GAoBG;AAMH,IAAM,iBAAiB,yBAAvB,MAAM,iBAAkB,SAAQ,OAAO;IA+BtC;QACC,KAAK,EAAE,CAAC;QA7BT;;;;WAIG;QAEH,yBAAoB,GAAG,KAAK,CAAC;QAE7B;;;WAGG;QAEH,gBAAW,GAAG,KAAK,CAAC;QAEpB;;;;;;WAMG;QAEH,qBAAgB,GAAG,KAAK,CAAC;IAOzB,CAAC;IAED,KAAK,CAAC,SAAS;QACd,IAAI,CAAC,OAAO,EAAE,EAAE,CAAC;YAChB,MAAM,KAAK,CAAC,SAAS,EAAE,CAAC;QACzB,CAAC;aAAM,IAAI,IAAI,CAAC,OAAO,EAAE,CAAC;YACzB,IAAI,CAAC,OAAO,CAAC,IAAI,GAAG,IAAI,CAAC;QAC1B,CAAC;IACF,CAAC;IAED,KAAK,CAAC,KAAK;QACV,IAAI,CAAC,OAAO,EAAE,EAAE,CAAC;YAChB,OAAO,KAAK,CAAC,KAAK,EAAE,CAAC;QACtB,CAAC;IACF,CAAC;IAED,uBAAuB;QACtB,IAAI,CAAC,UAAU,EAAE,CAAC;IACnB,CAAC;IAED;;;OAGG;IACH,UAAU,CAAC,UAAU,GAAG,KAAK,EAAE,qBAAqB,GAAG,KAAK,EAAE,mBAAmB,GAAG,KAAK;QACxF,IAAI,CAAC,OAAO,EAAE,EAAE,CAAC;YAChB,KAAK,CAAC,UAAU,CAAC,UAAU,EAAE,qBAAqB,EAAE,mBAAmB,CAAC,CAAC;QAC1E,CAAC;aAAM,CAAC;YACP,IAAI,CAAC,OAAO,EAAE,UAAU,CAAC,UAAU,EAAE,qBAAqB,EAAE,mBAAmB,CAAC,CAAC;QAClF,CAAC;IACF,CAAC;IAED,MAAM,CAAC,MAAmB;QACzB,IAAI,IAAI,CAAC,IAAI,EAAE,CAAC;YACf,IAAI,CAAC,UAAU,EAAE,CAAC;YAClB,OAAO;QACR,CAAC;QAED,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;QACrB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;IAClB,CAAC;IAED,IAAI,OAAO;QACV,MAAM,UAAU,GAAG,KAAK,CAAC,OAAO,CAAC;QAEjC,UAAU,CAAC,MAAM,GAAG;YACnB,+BAA+B,EAAE,IAAI;YACrC,wCAAwC,EAAE,CAAC,IAAI,CAAC,UAAU;SAC1D,CAAC;QAEF,OAAO,UAAU,CAAC;IACnB,CAAC;IAED,IAAI,OAAO;QACV,OAAO,IAAI,CAAC,UAAW,CAAC,aAAa,CAAS,cAAc,CAAE,CAAC;IAChE,CAAC;IAED,IAAI,UAAU;QACb,OAAO,OAAO,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC,CAAC,KAAK,CAAC,UAAU,CAAC;IAC/D,CAAC;IAED,IAAI,QAAQ;QACX,OAAO,OAAO,EAAE,CAAC;IAClB,CAAC;IAED,IAAI,cAAc;QACjB,OAAO,CAAC,OAAO,EAAE,IAAI,CAAC,IAAI,CAAC,oBAAoB,CAAC,IAAI,KAAK,CAAC,cAAc,CAAC;IAC1E,CAAC;IAED,IAAI,cAAc;QACjB,OAAO,OAAO,EAAE,IAAI,CAAC,IAAI,CAAC,oBAAoB,CAAC;IAChD,CAAC;IAED,IAAI,qBAAqB;QACxB,OAAO,mBAAiB,CAAC,UAAU,CAAC,OAAO,CAAC,sCAAsC,CAAC,CAAC;IACrF,CAAC;IAED,iBAAiB;QAChB,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;QACpB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,kBAAkB,CAAC,aAAa,CAAC,CAAC;IACxC,CAAC;IAED,gBAAgB;QACf,IAAI,CAAC,kBAAkB,CAAC,MAAM,CAAC,CAAC;IACjC,CAAC;IAED,kBAAkB,CAAC,CAA2C;QAC7D,IAAI,CAAC,kBAAkB,CAAC,cAAc,EAAE,CAAC,CAAC,MAAM,CAAC,CAAC;IACnD,CAAC;IAED,iBAAiB;QAChB,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;QACrB,IAAI,CAAC,IAAI,GAAG,KAAK,CAAC;QAClB,IAAI,CAAC,kBAAkB,CAAC,OAAO,CAAC,CAAC;IAClC,CAAC;IAED,IAAI,OAAO;QACV,IAAI,CAAC,OAAO,EAAE,EAAE,CAAC;YAChB,OAAO,KAAK,CAAC,OAAO,CAAC;QACtB,CAAC;QAED,OAAO,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC;IAC7B,CAAC;CACD,CAAA;AAhIA;IADC,QAAQ,CAAC,EAAE,IAAI,EAAE,OAAO,EAAE,CAAC;+DACC;AAO7B;IADC,QAAQ,CAAC,EAAE,IAAI,EAAE,OAAO,EAAE,CAAC;sDACR;AAUpB;IADC,QAAQ,CAAC,EAAE,IAAI,EAAE,OAAO,EAAE,CAAC;2DACH;AAGlB;IADN,IAAI,CAAC,oBAAoB,CAAC;2CACG;AA7BzB,iBAAiB;IALtB,aAAa,CAAC;QACd,GAAG,EAAE,wBAAwB;QAC7B,MAAM,EAAE,CAAC,OAAO,CAAC,MAAM,EAAE,oBAAoB,CAAC;QAC9C,QAAQ,EAAE,yBAAyB;KACnC,CAAC;GACI,iBAAiB,CAyItB;AAED,iBAAiB,CAAC,MAAM,EAAE,CAAC;AAE3B,eAAe,iBAAiB,CAAC","sourcesContent":["import customElement from \"@ui5/webcomponents-base/dist/decorators/customElement.js\";\nimport property from \"@ui5/webcomponents-base/dist/decorators/property.js\";\nimport { isPhone } from \"@ui5/webcomponents-base/dist/Device.js\";\nimport type I18nBundle from \"@ui5/webcomponents-base/dist/i18nBundle.js\";\nimport i18n from \"@ui5/webcomponents-base/dist/decorators/i18n.js\";\n\nimport { RESPONSIVE_POPOVER_CLOSE_DIALOG_BUTTON } from \"./generated/i18n/i18n-defaults.js\";\n\nimport ResponsivePopoverTemplate from \"./ResponsivePopoverTemplate.js\";\nimport Popover from \"./Popover.js\";\nimport type Dialog from \"./Dialog.js\";\n\n// Styles\nimport ResponsivePopoverCss from \"./generated/themes/ResponsivePopover.css.js\";\nimport type { PopupBeforeCloseEventDetail } from \"./Popup.js\";\n\n/**\n * @class\n *\n * ### Overview\n * The `ui5-responsive-popover` acts as a Popover on desktop and tablet, while on phone it acts as a Dialog.\n * The component improves tremendously the user experience on mobile.\n *\n * ### Usage\n * Use it when you want to make sure that all the content is visible on any device.\n *\n * ### ES6 Module Import\n *\n * `import \"@ui5/webcomponents/dist/ResponsivePopover.js\";`\n * @constructor\n * @extends Popover\n * @since 1.0.0-rc.6\n * @public\n * @csspart header - Used to style the header of the component\n * @csspart content - Used to style the content of the component\n * @csspart footer - Used to style the footer of the component\n */\n@customElement({\n\ttag: \"ui5-responsive-popover\",\n\tstyles: [Popover.styles, ResponsivePopoverCss],\n\ttemplate: ResponsivePopoverTemplate,\n})\nclass ResponsivePopover extends Popover {\n\teventDetails!: Popover[\"eventDetails\"]\n\n\t/**\n\t * Defines if only the content would be displayed (without header and footer) in the popover on Desktop.\n\t * By default both the header and footer would be displayed.\n\t * @private\n\t */\n\t@property({ type: Boolean })\n\tcontentOnlyOnDesktop = false;\n\n\t/**\n\t * Used internaly for controls which must not have header.\n\t * @private\n\t */\n\t@property({ type: Boolean })\n\t_hideHeader = false;\n\n\t/**\n\t * Defines whether a close button will be rendered in the header of the component\n\t * **Note:** If you are using the `header` slot, this property will have no effect\n\t * @private\n\t * @default false\n\t * @since 1.0.0-rc.16\n\t */\n\t@property({ type: Boolean })\n\t_hideCloseButton = false;\n\n\t@i18n(\"@ui5/webcomponents\")\n\tstatic i18nBundle: I18nBundle;\n\n\tconstructor() {\n\t\tsuper();\n\t}\n\n\tasync openPopup() {\n\t\tif (!isPhone()) {\n\t\t\tawait super.openPopup();\n\t\t} else if (this._dialog) {\n\t\t\tthis._dialog.open = true;\n\t\t}\n\t}\n\n\tasync _show() {\n\t\tif (!isPhone()) {\n\t\t\treturn super._show();\n\t\t}\n\t}\n\n\t_dialogCloseButtonClick() {\n\t\tthis.closePopup();\n\t}\n\n\t/**\n\t * Closes the popover/dialog.\n\t * @override\n\t */\n\tclosePopup(escPressed = false, preventRegistryUpdate = false, preventFocusRestore = false) : void {\n\t\tif (!isPhone()) {\n\t\t\tsuper.closePopup(escPressed, preventRegistryUpdate, preventFocusRestore);\n\t\t} else {\n\t\t\tthis._dialog?.closePopup(escPressed, preventRegistryUpdate, preventFocusRestore);\n\t\t}\n\t}\n\n\ttoggle(opener: HTMLElement) : void {\n\t\tif (this.open) {\n\t\t\tthis.closePopup();\n\t\t\treturn;\n\t\t}\n\n\t\tthis.opener = opener;\n\t\tthis.open = true;\n\t}\n\n\tget classes() {\n\t\tconst allClasses = super.classes;\n\n\t\tallClasses.header = {\n\t\t\t\"ui5-responsive-popover-header\": true,\n\t\t\t\"ui5-responsive-popover-header-no-title\": !this.headerText,\n\t\t};\n\n\t\treturn allClasses;\n\t}\n\n\tget _dialog() {\n\t\treturn this.shadowRoot!.querySelector<Dialog>(\"[ui5-dialog]\")!;\n\t}\n\n\tget contentDOM() {\n\t\treturn isPhone() ? this._dialog.contentDOM : super.contentDOM;\n\t}\n\n\tget _isPhone() {\n\t\treturn isPhone();\n\t}\n\n\tget _displayHeader() {\n\t\treturn (isPhone() || !this.contentOnlyOnDesktop) && super._displayHeader;\n\t}\n\n\tget _displayFooter() {\n\t\treturn isPhone() || !this.contentOnlyOnDesktop;\n\t}\n\n\tget _closeDialogAriaLabel() {\n\t\treturn ResponsivePopover.i18nBundle.getText(RESPONSIVE_POPOVER_CLOSE_DIALOG_BUTTON);\n\t}\n\n\t_beforeDialogOpen() {\n\t\tthis._opened = true;\n\t\tthis.open = true;\n\t\tthis.fireDecoratorEvent(\"before-open\");\n\t}\n\n\t_afterDialogOpen() {\n\t\tthis.fireDecoratorEvent(\"open\");\n\t}\n\n\t_beforeDialogClose(e: CustomEvent<PopupBeforeCloseEventDetail>) {\n\t\tthis.fireDecoratorEvent(\"before-close\", e.detail);\n\t}\n\n\t_afterDialogClose() {\n\t\tthis._opened = false;\n\t\tthis.open = false;\n\t\tthis.fireDecoratorEvent(\"close\");\n\t}\n\n\tget isModal() {\n\t\tif (!isPhone()) {\n\t\t\treturn super.isModal;\n\t\t}\n\n\t\treturn this._dialog.isModal;\n\t}\n}\n\nResponsivePopover.define();\n\nexport default ResponsivePopover;\n"]}