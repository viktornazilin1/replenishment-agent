{"version":3,"file":"ExpandableText.js","sourceRoot":"","sources":["../src/ExpandableText.ts"],"names":[],"mappings":"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","sourcesContent":["import UI5Element from \"@ui5/webcomponents-base/dist/UI5Element.js\";\nimport customElement from \"@ui5/webcomponents-base/dist/decorators/customElement.js\";\nimport property from \"@ui5/webcomponents-base/dist/decorators/property.js\";\nimport i18n from \"@ui5/webcomponents-base/dist/decorators/i18n.js\";\nimport jsxRender from \"@ui5/webcomponents-base/dist/renderer/JsxRenderer.js\";\nimport type I18nBundle from \"@ui5/webcomponents-base/dist/i18nBundle.js\";\nimport { isPhone } from \"@ui5/webcomponents-base/dist/Device.js\";\nimport type { LinkAccessibilityAttributes } from \"./Link.js\";\nimport ExpandableTextOverflowMode from \"./types/ExpandableTextOverflowMode.js\";\nimport type TextEmptyIndicatorMode from \"./types/TextEmptyIndicatorMode.js\";\nimport {\n\tEXPANDABLE_TEXT_SHOW_LESS,\n\tEXPANDABLE_TEXT_SHOW_MORE,\n\tEXPANDABLE_TEXT_CLOSE,\n\tEXPANDABLE_TEXT_SHOW_LESS_POPOVER_ARIA_LABEL,\n\tEXPANDABLE_TEXT_SHOW_MORE_POPOVER_ARIA_LABEL,\n} from \"./generated/i18n/i18n-defaults.js\";\n\n// Template\nimport ExpandableTextTemplate from \"./ExpandableTextTemplate.js\";\n\n// Styles\nimport ExpandableTextCss from \"./generated/themes/ExpandableText.css.js\";\n\n/**\n * @class\n *\n * ### Overview\n *\n * The `ui5-expandable-text` component allows displaying a large body of text in a small space. It provides an \"expand/collapse\" functionality, which shows/hides potentially truncated text.\n *\n * ### Usage\n *\n * #### When to use:\n * - To accommodate long texts in limited space, for example in list items, table cell texts, or forms\n *\n * #### When not to use:\n * - The content is critical for the user. In this case use short descriptions that can fit in\n * - Strive to provide short and meaningful texts to avoid excessive number of \"Show More\" links on the page\n *\n * ### Responsive Behavior\n *\n * On phones, if the component is configured to display the full text in a popover, the popover will appear in full screen.\n *\n * ### ES6 Module Import\n *\n * `import \"@ui5/webcomponents/dist/ExpandableText\";`\n *\n * @constructor\n * @extends UI5Element\n * @public\n * @since 2.6.0\n */\n@customElement({\n\ttag: \"ui5-expandable-text\",\n\trenderer: jsxRender,\n\tstyles: ExpandableTextCss,\n\ttemplate: ExpandableTextTemplate,\n})\nclass ExpandableText extends UI5Element {\n\t/**\n\t * Text of the component.\n\t *\n\t * @default undefined\n\t * @public\n\t */\n\t@property()\n\ttext?: string;\n\n\t/**\n\t * Maximum number of characters to be displayed initially. If the text length exceeds this limit, the text will be truncated with an ellipsis, and the \"More\" link will be displayed.\n\t * @default 100\n\t * @public\n\t */\n\t@property({ type: Number })\n\tmaxCharacters = 100;\n\n\t/**\n\t * Determines how the full text will be displayed.\n\t * @default \"InPlace\"\n\t * @public\n\t */\n\t@property()\n\toverflowMode: `${ExpandableTextOverflowMode}` = \"InPlace\"\n\n\t/**\n\t * Specifies if an empty indicator should be displayed when there is no text.\n\t * @default \"Off\"\n\t * @public\n\t */\n\t@property()\n\temptyIndicatorMode: `${TextEmptyIndicatorMode}` = \"Off\";\n\n\t@property({ type: Boolean })\n\t_expanded = false;\n\n\t@i18n(\"@ui5/webcomponents\")\n\tstatic i18nBundle: I18nBundle;\n\n\tgetFocusDomRef(): HTMLElement | undefined {\n\t\tif (this._usePopover) {\n\t\t\treturn this.shadowRoot?.querySelector(\"[ui5-responsive-popover]\") as HTMLElement;\n\t\t}\n\n\t\treturn this.shadowRoot?.querySelector(\"[ui5-link]\") as HTMLElement;\n\t}\n\n\tget _displayedText() {\n\t\tif (this._expanded && !this._usePopover) {\n\t\t\treturn this.text;\n\t\t}\n\n\t\treturn this.text?.substring(0, this.maxCharacters);\n\t}\n\n\tget _maxCharactersExceeded() {\n\t\treturn (this.text?.length || 0) > this.maxCharacters;\n\t}\n\n\tget _usePopover() {\n\t\treturn this.overflowMode === ExpandableTextOverflowMode.Popover;\n\t}\n\n\tget _ellipsisText() {\n\t\tif (this._expanded && !this._usePopover) {\n\t\t\treturn \" \";\n\t\t}\n\n\t\treturn \"... \";\n\t}\n\n\tget _textForToggle() {\n\t\treturn this._expanded ? ExpandableText.i18nBundle.getText(EXPANDABLE_TEXT_SHOW_LESS) : ExpandableText.i18nBundle.getText(EXPANDABLE_TEXT_SHOW_MORE);\n\t}\n\n\tget _closeButtonText() {\n\t\treturn ExpandableText.i18nBundle.getText(EXPANDABLE_TEXT_CLOSE);\n\t}\n\n\tget _accessibilityAttributesForToggle(): LinkAccessibilityAttributes {\n\t\tif (this._usePopover) {\n\t\t\treturn {\n\t\t\t\texpanded: this._expanded,\n\t\t\t\thasPopup: \"dialog\",\n\t\t\t};\n\t\t}\n\n\t\treturn {\n\t\t\texpanded: this._expanded,\n\t\t};\n\t}\n\n\tget _accessibleNameForToggle() {\n\t\tif (this._usePopover) {\n\t\t\treturn this._expanded ? ExpandableText.i18nBundle.getText(EXPANDABLE_TEXT_SHOW_LESS_POPOVER_ARIA_LABEL) : ExpandableText.i18nBundle.getText(EXPANDABLE_TEXT_SHOW_MORE_POPOVER_ARIA_LABEL);\n\t\t}\n\n\t\treturn undefined;\n\t}\n\n\t_handlePopoverClose() {\n\t\tif (!isPhone()) {\n\t\t\tthis._expanded = false;\n\t\t}\n\t}\n\n\t_handleToggleClick() {\n\t\tthis._expanded = !this._expanded;\n\t}\n\n\t_handleCloseButtonClick(e: MouseEvent) {\n\t\tthis._expanded = false;\n\t\te.stopPropagation();\n\t}\n}\n\nExpandableText.define();\n\nexport default ExpandableText;\n"]}