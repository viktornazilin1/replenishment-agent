{"version":3,"file":"CalendarLegend.js","sourceRoot":"","sources":["../src/CalendarLegend.ts"],"names":[],"mappings":"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","sourcesContent":["import UI5Element from \"@ui5/webcomponents-base/dist/UI5Element.js\";\nimport customElement from \"@ui5/webcomponents-base/dist/decorators/customElement.js\";\nimport jsxRenderer from \"@ui5/webcomponents-base/dist/renderer/JsxRenderer.js\";\nimport property from \"@ui5/webcomponents-base/dist/decorators/property.js\";\nimport slot from \"@ui5/webcomponents-base/dist/decorators/slot.js\";\nimport i18n from \"@ui5/webcomponents-base/dist/decorators/i18n.js\";\nimport event from \"@ui5/webcomponents-base/dist/decorators/event-strict.js\";\nimport ItemNavigation from \"@ui5/webcomponents-base/dist/delegate/ItemNavigation.js\";\nimport NavigationMode from \"@ui5/webcomponents-base/dist/types/NavigationMode.js\";\nimport {\n\tisDown,\n\tisUp,\n} from \"@ui5/webcomponents-base/dist/Keys.js\";\nimport type I18nBundle from \"@ui5/webcomponents-base/dist/i18nBundle.js\";\nimport ItemNavigationBehavior from \"@ui5/webcomponents-base/dist/types/ItemNavigationBehavior.js\";\nimport CalendarLegendItemType from \"./types/CalendarLegendItemType.js\";\nimport CalendarLegendTemplate from \"./CalendarLegendTemplate.js\";\nimport \"./CalendarLegendItem.js\";\nimport type CalendarLegendItem from \"./CalendarLegendItem.js\";\nimport { CAL_LEGEND_ROLE_DESCRIPTION } from \"./generated/i18n/i18n-defaults.js\";\n\n// Styles\nimport CalendarLegendCss from \"./generated/themes/CalendarLegend.css.js\";\n\ntype CalendarLegendItemSelectionChangeEventDetail = {\n\titem: CalendarLegendItem;\n}\n\n/**\n * @class\n *\n * ### Overview\n *\n * The `ui5-calendar-legend` component is designed for use within the `ui5-calendar` to display a legend.\n * Each `ui5-calendar-legend-item` represents a unique date type, specifying its visual style\n * and a corresponding textual label.\n *\n * ### ES6 Module Import\n *\n * `import \"@ui5/webcomponents/dist/CalendarLegend.js\";`\n * @constructor\n * @extends UI5Element\n * @public\n * @since 1.23.0\n */\n@customElement({\n\ttag: \"ui5-calendar-legend\",\n\trenderer: jsxRenderer,\n\tstyles: CalendarLegendCss,\n\ttemplate: CalendarLegendTemplate,\n})\n@event(\"calendar-legend-selection-change\", {\n\tbubbles: true,\n})\n@event(\"calendar-legend-focus-out\", {\n\tbubbles: true,\n})\nclass CalendarLegend extends UI5Element {\n\teventDetails!: {\n\t\t\"calendar-legend-selection-change\": CalendarLegendItemSelectionChangeEventDetail,\n\t\t\"calendar-legend-focus-out\": void,\n\t};\n\n\t/**\n\t * Hides the Today item in the legend.\n\t * @default false\n\t * @public\n\t */\n\t@property({ type: Boolean })\n\thideToday = false;\n\n\t/**\n\t * Hides the Selected day item in the legend.\n\t * @default false\n\t * @public\n\t */\n\t@property({ type: Boolean })\n\thideSelectedDay = false;\n\n\t/**\n\t * Hides the Non-Working day item in the legend.\n\t * @default false\n\t * @public\n\t */\n\t@property({ type: Boolean })\n\thideNonWorkingDay = false;\n\n\t/**\n\t * Hides the Working day item in the legend.\n\t * @default false\n\t * @public\n\t */\n\t@property({ type: Boolean })\n\thideWorkingDay = false;\n\n\t/**\n\t * Defines the items of the component.\n\t * @public\n\t */\n\t@slot({\n\t\ttype: HTMLElement,\n\t\tinvalidateOnChildChange: true,\n\t\tindividualSlots: true,\n\t\t\"default\": true,\n\t })\n\titems!: Array<CalendarLegendItem>;\n\n\t_itemNavigation!: ItemNavigation;\n\t_lastFocusedItemIndex: number | null;\n\n\t@i18n(\"@ui5/webcomponents\")\n\tstatic i18nBundle: I18nBundle;\n\n\tconstructor() {\n\t\tsuper();\n\n\t\tthis._lastFocusedItemIndex = null;\n\t}\n\n\tonAfterRendering(): void {\n\t\tif (!this._itemNavigation) {\n\t\t\tthis._itemNavigation = new ItemNavigation(this, {\n\t\t\t\tnavigationMode: NavigationMode.Horizontal,\n\t\t\t\tbehavior: ItemNavigationBehavior.Static,\n\t\t\t\tgetItemsCallback: () => this.focusableElements,\n\t\t\t});\n\n\t\t\tconst focusableItemIndex = this._lastFocusedItemIndex !== null ? this._lastFocusedItemIndex : 0;\n\t\t\tthis._itemNavigation.setCurrentItem(this.focusableElements[focusableItemIndex]);\n\t\t}\n\t}\n\n\t_onMouseDown(e: MouseEvent) {\n\t\te.stopPropagation();\n\t\tconst target = e.target as CalendarLegendItem;\n\n\t\tthis._itemNavigation.setCurrentItem(target);\n\t\tthis._itemNavigation._focusCurrentItem();\n\t\tthis._lastFocusedItemIndex = this.focusableElements.indexOf(target);\n\t}\n\n\t_onFocusIn(e: FocusEvent) {\n\t\tconst target = e.target as CalendarLegendItem;\n\n\t\tthis.fireDecoratorEvent(\"calendar-legend-selection-change\", {\n\t\t\titem: target,\n\t\t});\n\t\tthis._lastFocusedItemIndex = this.focusableElements.indexOf(target);\n\t}\n\n\t_onFocusOut() {\n\t\tthis.fireDecoratorEvent(\"calendar-legend-focus-out\");\n\t}\n\n\t_onItemKeyDown(e: KeyboardEvent) {\n\t\tconst items = this.focusableElements;\n\t\tconst itemsCount = items.length;\n\t\tconst currentItem = e.target as CalendarLegendItem;\n\t\tconst currentIndex = items.indexOf(currentItem);\n\n\t\tif (isDown(e)) {\n\t\t\te.preventDefault();\n\t\t\tconst nextIndex = currentIndex + 1;\n\n\t\t\tif (nextIndex < itemsCount) {\n\t\t\t\tthis._itemNavigation.setCurrentItem(items[nextIndex]);\n\t\t\t\tthis._itemNavigation._focusCurrentItem();\n\t\t\t\tthis._lastFocusedItemIndex = nextIndex;\n\t\t\t}\n\t\t}\n\n\t\tif (isUp(e)) {\n\t\t\te.preventDefault();\n\t\t\tconst nextIndex = currentIndex - 1;\n\n\t\t\tif (nextIndex >= 0) {\n\t\t\t\tthis._itemNavigation.setCurrentItem(items[nextIndex]);\n\t\t\t\tthis._itemNavigation._focusCurrentItem();\n\t\t\t\tthis._lastFocusedItemIndex = nextIndex;\n\t\t\t}\n\t\t}\n\t}\n\n\tget focusableElements() {\n\t\tconst allFocusableItems = [...this.shadowRoot!.querySelectorAll<CalendarLegendItem>(\"[ui5-calendar-legend-item]\"), ...this.legendItems];\n\t\treturn allFocusableItems;\n\t}\n\n\tget legendItems() {\n\t\tconst items = this.getSlottedNodes<CalendarLegendItem>(\"items\");\n\t\treturn items.filter(item => item.hasAttribute(\"ui5-calendar-legend-item\"));\n\t}\n\n\tget defaultItemsMapping() {\n\t\tconst typeMapping = [\n\t\t\t{ type: CalendarLegendItemType.Today, hide: this.hideToday },\n\t\t\t{ type: CalendarLegendItemType.Selected, hide: this.hideSelectedDay },\n\t\t\t{ type: CalendarLegendItemType.Working, hide: this.hideWorkingDay },\n\t\t\t{ type: CalendarLegendItemType.NonWorking, hide: this.hideNonWorkingDay },\n\t\t];\n\n\t\treturn typeMapping;\n\t}\n\n\tget _roleDescription() {\n\t\treturn CalendarLegend.i18nBundle.getText(CAL_LEGEND_ROLE_DESCRIPTION);\n\t}\n}\n\nCalendarLegend.define();\n\nexport default CalendarLegend;\nexport type {\n\tCalendarLegendItemSelectionChangeEventDetail,\n};\n"]}