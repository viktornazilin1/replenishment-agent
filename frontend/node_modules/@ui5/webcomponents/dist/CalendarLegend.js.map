{"version":3,"file":"CalendarLegend.js","sourceRoot":"","sources":["../src/CalendarLegend.ts"],"names":[],"mappings":"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","sourcesContent":["import UI5Element from \"@ui5/webcomponents-base/dist/UI5Element.js\";\nimport customElement from \"@ui5/webcomponents-base/dist/decorators/customElement.js\";\nimport litRender from \"@ui5/webcomponents-base/dist/renderer/LitRenderer.js\";\nimport property from \"@ui5/webcomponents-base/dist/decorators/property.js\";\nimport slot from \"@ui5/webcomponents-base/dist/decorators/slot.js\";\nimport event from \"@ui5/webcomponents-base/dist/decorators/event.js\";\nimport ItemNavigation from \"@ui5/webcomponents-base/dist/delegate/ItemNavigation.js\";\nimport NavigationMode from \"@ui5/webcomponents-base/dist/types/NavigationMode.js\";\nimport {\n\tisDown,\n\tisUp,\n} from \"@ui5/webcomponents-base/dist/Keys.js\";\nimport ItemNavigationBehavior from \"@ui5/webcomponents-base/dist/types/ItemNavigationBehavior.js\";\nimport CalendarLegendItemType from \"./types/CalendarLegendItemType.js\";\nimport CalendarLegendTemplate from \"./generated/templates/CalendarLegendTemplate.lit.js\";\nimport CalendarLegendItem from \"./CalendarLegendItem.js\";\n\n// Styles\nimport CalendarLegendCss from \"./generated/themes/CalendarLegend.css.js\";\n\ntype CalendarLegendItemSelectionChangeEventDetail = {\n\titem: CalendarLegendItem;\n}\n\n/**\n * @class\n *\n * ### Overview\n *\n * The `ui5-calendar-legend` component is designed for use within the `ui5-calendar` to display a legend.\n * Each `ui5-calendar-legend-item` represents a unique date type, specifying its visual style\n * and a corresponding textual label.\n *\n * ### ES6 Module Import\n *\n * `import \"@ui5/webcomponents/dist/CalendarLegend.js\";`\n * @constructor\n * @extends UI5Element\n * @public\n * @since 1.23.0\n */\n@customElement({\n\ttag: \"ui5-calendar-legend\",\n\trenderer: litRender,\n\tstyles: CalendarLegendCss,\n\ttemplate: CalendarLegendTemplate,\n\tdependencies: [CalendarLegendItem],\n})\n@event<CalendarLegendItemSelectionChangeEventDetail>(\"_calendar-legend-selection-change\", {\n\tdetail: {\n\t\titem: { type: CalendarLegendItem },\n\t},\n})\n@event(\"_calendar-legend-focus-out\")\nclass CalendarLegend extends UI5Element {\n\t/**\n\t * Hides the Today item in the legend.\n\t * @default false\n\t * @public\n\t */\n\t@property({ type: Boolean })\n\thideToday!: boolean;\n\n\t/**\n\t * Hides the Selected day item in the legend.\n\t * @default false\n\t * @public\n\t */\n\t@property({ type: Boolean })\n\thideSelectedDay!: boolean;\n\n\t/**\n\t * Hides the Non-Working day item in the legend.\n\t * @default false\n\t * @public\n\t */\n\t@property({ type: Boolean })\n\thideNonWorkingDay!: boolean;\n\n\t/**\n\t * Hides the Working day item in the legend.\n\t * @default false\n\t * @public\n\t */\n\t@property({ type: Boolean })\n\thideWorkingDay!: boolean;\n\n\t/**\n\t * Defines the items of the component.\n\t * @public\n\t */\n\t@slot({\n\t\ttype: HTMLElement,\n\t\tinvalidateOnChildChange: true,\n\t\tindividualSlots: true,\n\t\t\"default\": true,\n\t })\n\titems!: Array<CalendarLegendItem>;\n\n\t_itemNavigation!: ItemNavigation;\n\t_lastFocusedItemIndex: number | null;\n\n\tconstructor() {\n\t\tsuper();\n\n\t\tthis._lastFocusedItemIndex = null;\n\t}\n\n\tonAfterRendering(): void {\n\t\tif (!this._itemNavigation) {\n\t\t\tthis._itemNavigation = new ItemNavigation(this, {\n\t\t\t\tnavigationMode: NavigationMode.Horizontal,\n\t\t\t\tbehavior: ItemNavigationBehavior.Static,\n\t\t\t\tgetItemsCallback: () => this.focusableElements,\n\t\t\t});\n\n\t\t\tconst focusableItemIndex = this._lastFocusedItemIndex !== null ? this._lastFocusedItemIndex : 0;\n\t\t\tthis._itemNavigation.setCurrentItem(this.focusableElements[focusableItemIndex]);\n\t\t}\n\t}\n\n\t_onMouseDown(e: MouseEvent) {\n\t\te.stopPropagation();\n\t\tconst target = e.target as CalendarLegendItem;\n\n\t\tthis._itemNavigation.setCurrentItem(target);\n\t\tthis._itemNavigation._focusCurrentItem();\n\t\tthis._lastFocusedItemIndex = this.focusableElements.indexOf(target);\n\t}\n\n\t_onFocusIn(e: FocusEvent) {\n\t\tconst target = e.target as CalendarLegendItem;\n\n\t\tthis.fireEvent<CalendarLegendItemSelectionChangeEventDetail>(\"_calendar-legend-selection-change\", {\n\t\t\titem: target,\n\t\t});\n\t\tthis._lastFocusedItemIndex = this.focusableElements.indexOf(target);\n\t}\n\n\t_onFocusOut() {\n\t\tthis.fireEvent(\"_calendar-legend-focus-out\");\n\t}\n\n\t_onItemKeyDown(e: KeyboardEvent) {\n\t\tconst items = this.focusableElements;\n\t\tconst itemsCount = items.length;\n\t\tconst currentItem = e.target as CalendarLegendItem;\n\t\tconst currentIndex = items.indexOf(currentItem);\n\n\t\tif (isDown(e)) {\n\t\t\te.preventDefault();\n\t\t\tconst nextIndex = currentIndex + 1;\n\n\t\t\tif (nextIndex < itemsCount) {\n\t\t\t\tthis._itemNavigation.setCurrentItem(items[nextIndex]);\n\t\t\t\tthis._itemNavigation._focusCurrentItem();\n\t\t\t\tthis._lastFocusedItemIndex = nextIndex;\n\t\t\t}\n\t\t}\n\n\t\tif (isUp(e)) {\n\t\t\te.preventDefault();\n\t\t\tconst nextIndex = currentIndex - 1;\n\n\t\t\tif (nextIndex >= 0) {\n\t\t\t\tthis._itemNavigation.setCurrentItem(items[nextIndex]);\n\t\t\t\tthis._itemNavigation._focusCurrentItem();\n\t\t\t\tthis._lastFocusedItemIndex = nextIndex;\n\t\t\t}\n\t\t}\n\t}\n\n\tget focusableElements() {\n\t\tconst allFocusableItems = [...this.shadowRoot!.querySelectorAll<CalendarLegendItem>(\"[ui5-calendar-legend-item]\"), ...this.legendItems];\n\t\treturn allFocusableItems;\n\t}\n\n\tget legendItems() {\n\t\tconst items = this.getSlottedNodes<CalendarLegendItem>(\"items\");\n\t\treturn items.filter(item => item instanceof CalendarLegendItem);\n\t}\n\n\tget defaultItemsMapping() {\n\t\tconst typeMapping = [\n\t\t\t{ type: [CalendarLegendItemType.Today], hide: this.hideToday },\n\t\t\t{ type: [CalendarLegendItemType.Selected], hide: this.hideSelectedDay },\n\t\t\t{ type: [CalendarLegendItemType.Working], hide: this.hideWorkingDay },\n\t\t\t{ type: [CalendarLegendItemType.NonWorking], hide: this.hideNonWorkingDay },\n\t\t];\n\n\t\treturn typeMapping;\n\t}\n}\n\nCalendarLegend.define();\n\nexport default CalendarLegend;\nexport type {\n\tCalendarLegendItemSelectionChangeEventDetail,\n};\n"]}