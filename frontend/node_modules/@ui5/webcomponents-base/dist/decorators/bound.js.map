{"version":3,"file":"bound.js","sourceRoot":"","sources":["../../src/decorators/bound.ts"],"names":[],"mappings":"AAAA,MAAM,CAAC,OAAO,UAAU,KAAK,CAAC,MAAW,EAAE,GAAoB,EAAE,UAAe;IAC/E,IAAI,CAAC,CAAC,OAAO,MAAM,CAAC,GAAG,CAAC,KAAK,UAAU,CAAC,EAAE,CAAC;QAC1C,MAAM,IAAI,KAAK,CAAC,6DAA6D,MAAM,CAAC,GAAG,CAAC,KAAK,OAAO,MAAM,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;IACpH,CAAC;IAED,IAAI,EAAE,GAAG,UAAU,CAAC,KAAK,CAAC;IAC1B,OAAO;QACN,YAAY,EAAE,IAAI;QAClB,GAAG;YACF,IAAI,CAAC,CAAC,IAAI,YAAY,MAAM,CAAC,WAAW,CAAC,EAAE,CAAC;gBAC3C,OAAO,EAAE,CAAC;YACX,CAAC;YAED,qFAAqF;YACrF,IAAI,MAAM,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,EAAE,GAAG,CAAC,EAAE,CAAC;gBAC3C,OAAO,EAAE,CAAC;YACX,CAAC;YAED,IAAI,OAAO,GAAG,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YAE5B,MAAM,CAAC,cAAc,CAAC,IAAI,EAAE,GAAG,EAAE;gBAChC,YAAY,EAAE,IAAI;gBAClB,GAAG;oBACF,OAAO,OAAO,CAAC;gBAChB,CAAC;gBACD,GAAG,CAAC,KAAU;oBACb,6EAA6E;oBAC7E,OAAO,GAAG,KAAK,CAAC;gBACjB,CAAC;aACD,CAAC,CAAC;YACH,OAAO,OAAO,CAAC;QAChB,CAAC;QACD,GAAG,CAAC,KAAU;YACb,EAAE,GAAG,KAAK,CAAC;QACZ,CAAC;KACD,CAAC;AACH,CAAC","sourcesContent":["export default function bound(target: any, key: string | symbol, descriptor: any): any {\n\tif (!(typeof target[key] === \"function\")) {\n\t\tthrow new Error(`@bound decorator can only be applied to methods, received ${String(key)}: ${typeof target[key]}`);\n\t}\n\n\tlet fn = descriptor.value;\n\treturn {\n\t\tconfigurable: true,\n\t\tget(): any {\n\t\t\tif (!(this instanceof target.constructor)) {\n\t\t\t\treturn fn;\n\t\t\t}\n\n\t\t\t// if the property is already defined on the instance, then this call is a super call\n\t\t\tif (Object.hasOwnProperty.call(this, key)) {\n\t\t\t\treturn fn;\n\t\t\t}\n\n\t\t\tlet boundFn = fn.bind(this);\n\n\t\t\tObject.defineProperty(this, key, {\n\t\t\t\tconfigurable: true,\n\t\t\t\tget(): any {\n\t\t\t\t\treturn boundFn;\n\t\t\t\t},\n\t\t\t\tset(value: any): void {\n\t\t\t\t\t// setting a value on the instance means they overwrite the default behaviour\n\t\t\t\t\tboundFn = value;\n\t\t\t\t},\n\t\t\t});\n\t\t\treturn boundFn;\n\t\t},\n\t\tset(value: any): void {\n\t\t\tfn = value;\n\t\t},\n\t};\n}\n"]}