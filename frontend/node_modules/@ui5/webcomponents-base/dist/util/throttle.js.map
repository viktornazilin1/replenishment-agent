{"version":3,"file":"throttle.js","sourceRoot":"","sources":["../../src/util/throttle.ts"],"names":[],"mappings":"AAEA,SAAS,QAAQ,CAAC,IAAgB,EAAE,KAAa;IAChD,IAAI,QAAQ,GAAc,IAAI,CAAC,CAAC,uDAAuD;IACvF,IAAI,eAAe,GAAmB,IAAI,CAAC;IAE3C,OAAO,SAAS,SAAS,CAAC,GAAG,IAAI;QAChC,IAAI,eAAe,EAAE,CAAC;YACrB,QAAQ,GAAG,IAAI,CAAC;YAChB,OAAO;QACR,CAAC;QAED,IAAI,CAAC,GAAG,IAAI,CAAC,CAAC;QACd,eAAe,GAAG,UAAU,CAAC,GAAG,EAAE;YACjC,IAAI,QAAQ,EAAE,CAAC;gBACd,IAAI,CAAC,GAAG,QAAQ,CAAC,CAAC;gBAClB,QAAQ,GAAG,IAAI,CAAC;YACjB,CAAC;YACD,eAAe,GAAG,IAAI,CAAC;QACxB,CAAC,EAAE,KAAK,CAAC,CAAC;IACX,CAAC,CAAC;AACH,CAAC;AAED,eAAe,QAAQ,CAAC","sourcesContent":["import type { Timeout } from \"../types.js\";\n\nfunction throttle(func: () => void, delay: number): () => void {\n\tlet lastArgs: [] | null = null; // used to ensure an explicit last call after the delay\n\tlet throttleTimeout: Timeout | null = null;\n\n\treturn function throttled(...args) {\n\t\tif (throttleTimeout) {\n\t\t\tlastArgs = args;\n\t\t\treturn;\n\t\t}\n\n\t\tfunc(...args);\n\t\tthrottleTimeout = setTimeout(() => {\n\t\t\tif (lastArgs) {\n\t\t\t\tfunc(...lastArgs);\n\t\t\t\tlastArgs = null;\n\t\t\t}\n\t\t\tthrottleTimeout = null;\n\t\t}, delay);\n\t};\n}\n\nexport default throttle;\n"]}