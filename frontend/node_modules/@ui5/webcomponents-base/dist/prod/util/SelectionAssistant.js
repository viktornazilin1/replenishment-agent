"use strict";import r from"../util/getEffectiveScrollbarStyle.js";const d=(t,e)=>{const o=getComputedStyle(t);for(let l=0;l<o.length;l++){const s=o[l];e.style.setProperty(s,o.getPropertyValue(s))}t.tagName==="INPUT"&&a(e),e.style.position="absolute",e.style.left=`${t.getBoundingClientRect().left}px`,e.style.top=`${t.getBoundingClientRect().top}px`,y(e),document.body.appendChild(e)},y=t=>{t.style.position="absolute",t.style.userSelect="none",t.style.pointerEvents="none",t.style.zIndex="-1",t.style.opacity="0"},a=t=>{t.style.whiteSpace="nowrap",t.style.overflowX="auto",t.style.overflowY="hidden"},p=()=>{const t=new CSSStyleSheet,e=r();t.replaceSync(e),document.adoptedStyleSheets=[...document.adoptedStyleSheets,t]},u=()=>{const t=document.createElement("div");t.id="ui5-selection-mirror",t.contentEditable="true",p(),document.body.appendChild(t)},S=(t,e)=>{e.scrollTop=t.scrollTop,e.scrollLeft=t.scrollLeft},g=(t,e)=>{const{selectionStart:o,selectionEnd:l}=t,s=t.value.slice(o,t.selectionEnd),c=document.createRange();c.setStart(e.firstChild,l-1),c.setEnd(e.firstChild,l),S(t,e);const n=c.getBoundingClientRect(),i={x:n.x,y:n.y,width:n.width,height:n.height,top:n.top,right:n.right,bottom:n.bottom,left:n.left};return document.body.removeChild(e),{...i,selectedText:s}},h=t=>{const e=t.shadowRoot.querySelector("textarea")||t.shadowRoot.querySelector("input");document.getElementById("ui5-selection-mirror")||u();const o=document.getElementById("ui5-selection-mirror");return o.textContent=e.value,e&&d(e,o),g(e,o)};export default h;
//# sourceMappingURL=SelectionAssistant.js.map
