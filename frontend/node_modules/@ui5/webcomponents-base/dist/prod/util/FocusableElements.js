"use strict";import o from"./isElementHidden.js";import f from"./isElementClickable.js";import{instanceOfUI5Element as a}from"../UI5Element.js";import{isSafari as c}from"../Device.js";const E=e=>e.hasAttribute("data-ui5-focus-trap"),d=e=>{const l=getComputedStyle(e);return e.scrollHeight>e.clientHeight&&["scroll","auto"].indexOf(l.overflowY)>=0||e.scrollWidth>e.clientWidth&&["scroll","auto"].indexOf(l.overflowX)>=0},b=async(e,l)=>!e||o(e)?null:m(e,!0,l),H=async(e,l)=>!e||o(e)?null:m(e,!1,l),T=e=>e.hasAttribute("data-ui5-focus-redirect")||!o(e),L=e=>{if(a(e)){const l=e.getAttribute("tabindex");if(l!==null&&parseInt(l)<0)return!0}return!1},m=async(e,l,r)=>{let t,s,n=-1;e.shadowRoot?t=l?e.shadowRoot.firstChild:e.shadowRoot.lastChild:e instanceof HTMLSlotElement&&e.assignedNodes()?(s=e.assignedNodes(),n=l?0:s.length-1,t=s[n]):r?t=e:t=l?e.firstElementChild:e.lastElementChild;let i;for(;t;){const u=t;if(!o(u)&&!L(u)){if(a(t)&&(await t._waitForDomRef(),t=t.getDomRef()),!t||o(t))return null;if(t.nodeType===1&&T(t)&&!E(t)){if(f(t)||(i=await m(t,l),!c()&&!i&&d(t)))return t&&typeof t.focus=="function"?t:null;if(i)return i&&typeof i.focus=="function"?i:null}}t=l?u.nextSibling:u.previousSibling,s&&!s[n].contains(t)&&(n=l?n+1:n-1,t=s[n])}return null};export{b as getFirstFocusableElement,H as getLastFocusableElement};
//# sourceMappingURL=FocusableElements.js.map
