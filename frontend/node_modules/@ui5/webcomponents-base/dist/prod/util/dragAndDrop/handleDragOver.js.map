{
  "version": 3,
  "sources": ["../../../../src/util/dragAndDrop/handleDragOver.ts"],
  "sourcesContent": ["import type UI5Element from \"../../UI5Element.js\";\nimport type MovePlacement from \"../../types/MovePlacement.js\";\nimport type { DragAndDropSettings } from \"./DragRegistry.js\";\nimport DragRegistry from \"./DragRegistry.js\";\n\ntype DragOverResult = {\n\ttargetReference: HTMLElement | null;\n\tplacement: any;\n}\n\ntype DragPosition = {\n\telement: HTMLElement;\n\tplacements: MovePlacement[];\n};\n\n/**\n * Handles the dragover event.\n */\nfunction handleDragOver<T extends UI5Element>(e: DragEvent, component: T, position: DragPosition, target: HTMLElement, settings: DragAndDropSettings = {}): DragOverResult {\n\tconst draggedElement = DragRegistry.getDraggedElement();\n\tconst dragOverResult: DragOverResult = {\n\t\ttargetReference: null,\n\t\tplacement: null,\n\t};\n\n\tif (!draggedElement && !settings?.crossDnD) {\n\t\treturn dragOverResult;\n\t}\n\n\tconst placements = position.placements;\n\tdragOverResult.targetReference = e.target as HTMLElement;\n\n\tconst placementAccepted = placements.some(placement => {\n\t\tconst originalEvent = settings.originalEvent ? { originalEvent: e } : {};\n\t\tconst beforeItemMovePrevented = !component.fireDecoratorEvent(\"move-over\" as keyof T[\"eventDetails\"], {\n\t\t\t...originalEvent,\n\t\t\tsource: {\n\t\t\t\telement: draggedElement,\n\t\t\t},\n\t\t\tdestination: {\n\t\t\t\telement: target,\n\t\t\t\tplacement,\n\t\t\t},\n\t\t} as T[\"eventDetails\"][keyof T[\"eventDetails\"]]);\n\n\t\tif (beforeItemMovePrevented) {\n\t\t\te.preventDefault();\n\t\t\tdragOverResult.targetReference = position.element;\n\t\t\tdragOverResult.placement = placement;\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t});\n\n\tif (!placementAccepted) {\n\t\tdragOverResult.targetReference = null;\n\t}\n\n\treturn dragOverResult;\n}\n\nexport default handleDragOver;\n"],
  "mappings": "aAGA,OAAOA,MAAkB,oBAezB,SAASC,EAAqCC,EAAcC,EAAcC,EAAwBC,EAAqBC,EAAgC,CAAC,EAAmB,CAC1K,MAAMC,EAAiBP,EAAa,kBAAkB,EAChDQ,EAAiC,CACtC,gBAAiB,KACjB,UAAW,IACZ,EAEA,GAAI,CAACD,GAAkB,CAACD,GAAU,SACjC,OAAOE,EAGR,MAAMC,EAAaL,EAAS,WAC5B,OAAAI,EAAe,gBAAkBN,EAAE,OAETO,EAAW,KAAKC,GAAa,CACtD,MAAMC,EAAgBL,EAAS,cAAgB,CAAE,cAAeJ,CAAE,EAAI,CAAC,EAYvE,OAXiCC,EAAU,mBAAmB,YAAwC,CACrG,GAAGQ,EACH,OAAQ,CACP,QAASJ,CACV,EACA,YAAa,CACZ,QAASF,EACT,UAAAK,CACD,CACD,CAA+C,EASxC,IANNR,EAAE,eAAe,EACjBM,EAAe,gBAAkBJ,EAAS,QAC1CI,EAAe,UAAYE,EACpB,GAIT,CAAC,IAGAF,EAAe,gBAAkB,MAG3BA,CACR,CAEA,eAAeP",
  "names": ["DragRegistry", "handleDragOver", "e", "component", "position", "target", "settings", "draggedElement", "dragOverResult", "placements", "placement", "originalEvent"]
}
