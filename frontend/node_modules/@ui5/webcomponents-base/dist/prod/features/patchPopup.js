"use strict";const a=e=>{e.setAttribute("popover","manual"),e.showPopover()},l=e=>{e.hasAttribute("popover")&&(e.hidePopover(),e.removeAttribute("popover"))},i=(e=document)=>e.querySelector(":popover-open")?!0:Array.from(e.querySelectorAll("*")).some(o=>{const p=o.shadowRoot;return p&&i(p)}),u=e=>{const o=e.prototype.open;e.prototype.open=function(...t){o.apply(this,t);const n=i();if(["OPENING","OPEN"].includes(this.getOpenState())&&n){const c=this.getContent();if(c){const r=c instanceof HTMLElement?c:c?.getDomRef();r&&a(r)}}}},y=e=>{const o=e.prototype._closed;e.prototype._closed=function(...t){const n=this.getContent(),s=n instanceof HTMLElement?n:n?.getDomRef();o.apply(this,t),s&&l(s)}},v=e=>{const o=e.prototype.onFocusEvent;e.prototype.onFocusEvent=function(t){const n=t.type==="focus"||t.type==="activate",s=t.target;(!n||!s.closest("[ui5-popover],[ui5-responsive-popover],[ui5-dialog]"))&&o.call(this,t)}},d=()=>{const e=new CSSStyleSheet;e.replaceSync(".sapMPopup-CTX:popover-open { inset: unset; }"),document.adoptedStyleSheets=[...document.adoptedStyleSheets,e]},h=e=>{u(e),y(e),d(),v(e)};export default h;
//# sourceMappingURL=patchPopup.js.map
