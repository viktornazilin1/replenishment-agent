{
  "version": 3,
  "sources": ["../../src/ManagedStyles.ts"],
  "sourcesContent": ["import { getCurrentRuntimeIndex, compareRuntimes } from \"./Runtimes.js\";\n\nconst isSSR = typeof document === \"undefined\";\n\nconst getStyleId = (name: string, value: string) => {\n\treturn value ? `${name}|${value}` : name;\n};\n\nconst shouldUpdate = (runtimeIndex: string | undefined) => {\n\tif (runtimeIndex === undefined) {\n\t\treturn true;\n\t}\n\treturn compareRuntimes(getCurrentRuntimeIndex(), parseInt(runtimeIndex)) === 1; // 1 means the current is newer, 0 means the same, -1 means the resource's runtime is newer\n};\n\nconst createStyle = (content: string, name: string, value = \"\", theme?: string) => {\n\tconst currentRuntimeIndex = getCurrentRuntimeIndex();\n\n\tconst stylesheet = new CSSStyleSheet();\n\tstylesheet.replaceSync(content);\n\t(stylesheet as Record<string, any>)._ui5StyleId = getStyleId(name, value); // set an id so that we can find the style later\n\tif (theme) {\n\t\t(stylesheet as Record<string, any>)._ui5RuntimeIndex = currentRuntimeIndex;\n\t\t(stylesheet as Record<string, any>)._ui5Theme = theme;\n\t}\n\tdocument.adoptedStyleSheets = [...document.adoptedStyleSheets, stylesheet];\n};\n\nconst updateStyle = (content: string, name: string, value = \"\", theme?: string) => {\n\tconst currentRuntimeIndex = getCurrentRuntimeIndex();\n\n\tconst stylesheet = document.adoptedStyleSheets.find(sh => (sh as Record<string, any>)._ui5StyleId === getStyleId(name, value));\n\tif (!stylesheet) {\n\t\treturn;\n\t}\n\n\tif (!theme) {\n\t\tstylesheet.replaceSync(content || \"\");\n\t} else {\n\t\tconst stylesheetRuntimeIndex: string | undefined = (stylesheet as Record<string, any>)._ui5RuntimeIndex;\n\t\tconst stylesheetTheme: string | undefined = (stylesheet as Record<string, any>)._ui5Theme;\n\t\tif (stylesheetTheme !== theme || shouldUpdate(stylesheetRuntimeIndex)) {\n\t\t\tstylesheet.replaceSync(content || \"\");\n\t\t\t(stylesheet as Record<string, any>)._ui5RuntimeIndex = String(currentRuntimeIndex);\n\t\t\t(stylesheet as Record<string, any>)._ui5Theme = theme;\n\t\t}\n\t}\n};\n\nconst hasStyle = (name: string, value = \"\"): boolean => {\n\tif (isSSR) {\n\t\treturn true;\n\t}\n\n\treturn !!document.adoptedStyleSheets.find(sh => (sh as Record<string, any>)._ui5StyleId === getStyleId(name, value));\n};\n\nconst removeStyle = (name: string, value = \"\") => {\n\tdocument.adoptedStyleSheets = document.adoptedStyleSheets.filter(sh => (sh as Record<string, any>)._ui5StyleId !== getStyleId(name, value));\n};\n\nconst createOrUpdateStyle = (content: string, name: string, value = \"\", theme?: string) => {\n\tif (hasStyle(name, value)) {\n\t\tupdateStyle(content, name, value, theme);\n\t} else {\n\t\tcreateStyle(content, name, value, theme);\n\t}\n};\n\nconst mergeStyles = (style1?: string, style2?: string) => {\n\tif (style1 === undefined) {\n\t\treturn style2;\n\t}\n\tif (style2 === undefined) {\n\t\treturn style1;\n\t}\n\treturn `${style1} ${style2}`;\n};\n\nexport {\n\tcreateStyle,\n\thasStyle,\n\tupdateStyle,\n\tremoveStyle,\n\tcreateOrUpdateStyle,\n\tmergeStyles,\n};\n"],
  "mappings": "aAAA,OAAS,0BAAAA,EAAwB,mBAAAC,MAAuB,gBAExD,MAAMC,EAAQ,OAAO,SAAa,IAE5BC,EAAa,CAACC,EAAcC,IAC1BA,EAAQ,GAAGD,CAAI,IAAIC,CAAK,GAAKD,EAG/BE,EAAgBC,GACjBA,IAAiB,OACb,GAEDN,EAAgBD,EAAuB,EAAG,SAASO,CAAY,CAAC,IAAM,EAGxEC,EAAc,CAACC,EAAiBL,EAAcC,EAAQ,GAAIK,IAAmB,CAClF,MAAMC,EAAsBX,EAAuB,EAE7CY,EAAa,IAAI,cACvBA,EAAW,YAAYH,CAAO,EAC7BG,EAAmC,YAAcT,EAAWC,EAAMC,CAAK,EACpEK,IACFE,EAAmC,iBAAmBD,EACtDC,EAAmC,UAAYF,GAEjD,SAAS,mBAAqB,CAAC,GAAG,SAAS,mBAAoBE,CAAU,CAC1E,EAEMC,EAAc,CAACJ,EAAiBL,EAAcC,EAAQ,GAAIK,IAAmB,CAClF,MAAMC,EAAsBX,EAAuB,EAE7CY,EAAa,SAAS,mBAAmB,KAAKE,GAAOA,EAA2B,cAAgBX,EAAWC,EAAMC,CAAK,CAAC,EAC7H,GAAKO,EAIL,GAAI,CAACF,EACJE,EAAW,YAAYH,GAAW,EAAE,MAC9B,CACN,MAAMM,EAA8CH,EAAmC,kBAC1CA,EAAmC,YACxDF,GAASJ,EAAaS,CAAsB,KACnEH,EAAW,YAAYH,GAAW,EAAE,EACnCG,EAAmC,iBAAmB,OAAOD,CAAmB,EAChFC,EAAmC,UAAYF,EAElD,CACD,EAEMM,EAAW,CAACZ,EAAcC,EAAQ,KACnCH,EACI,GAGD,CAAC,CAAC,SAAS,mBAAmB,KAAKY,GAAOA,EAA2B,cAAgBX,EAAWC,EAAMC,CAAK,CAAC,EAG9GY,EAAc,CAACb,EAAcC,EAAQ,KAAO,CACjD,SAAS,mBAAqB,SAAS,mBAAmB,OAAOS,GAAOA,EAA2B,cAAgBX,EAAWC,EAAMC,CAAK,CAAC,CAC3I,EAEMa,EAAsB,CAACT,EAAiBL,EAAcC,EAAQ,GAAIK,IAAmB,CACtFM,EAASZ,EAAMC,CAAK,EACvBQ,EAAYJ,EAASL,EAAMC,EAAOK,CAAK,EAEvCF,EAAYC,EAASL,EAAMC,EAAOK,CAAK,CAEzC,EAEMS,EAAc,CAACC,EAAiBC,IACjCD,IAAW,OACPC,EAEJA,IAAW,OACPD,EAED,GAAGA,CAAM,IAAIC,CAAM,GAG3B,OACCb,KAAA,YACAQ,KAAA,SACAH,KAAA,YACAI,KAAA,YACAC,KAAA,oBACAC,KAAA",
  "names": ["getCurrentRuntimeIndex", "compareRuntimes", "isSSR", "getStyleId", "name", "value", "shouldUpdate", "runtimeIndex", "createStyle", "content", "theme", "currentRuntimeIndex", "stylesheet", "updateStyle", "sh", "stylesheetRuntimeIndex", "hasStyle", "removeStyle", "createOrUpdateStyle", "mergeStyles", "style1", "style2"]
}
